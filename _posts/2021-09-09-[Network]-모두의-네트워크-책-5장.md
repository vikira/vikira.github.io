## [Network] 모두의 네트워크 책 5장

"모두의 네트워크" 길벗 출판사 책을 읽고 정리한 내용이다.

### 5장 네트워크 계층 : 목적지에 데이터 전달하기

#### Lesson 17 네트워크 계층의 역할

네트워크 계층의 역할 :

서로 다른 네트워크에 있는 목적지로 데이터를 전송하기 위해 필요하다. 네트워크 간의 통신을 가능하게 하는 것.



데이터 링크 계층의 역할 :

이더넷 규칙을 기반으로 같은 네트워크에 있는 컴퓨터로만 데이터를 전송할 수 있다. 인터넷이나 다른 네트워크로는 전송 불가.



라우터의 기능 : (L3) 다른 네트워크로 데이터 전송. 데이터의 목적지가 정해지면 해당 목적지까지 어떤 경로로 가는 것이 좋은지 알려준다. 이때 IP 주소가 필요하다. 라우팅 테이블이 있어서 경로 정보를 등록하고 관리한다.



IP 주소 : 어떤 네트워크의 어떤 컴퓨터인지를 구분할 수 있도록 하는 주소이다. IP 주소가 있으면 다른 네트워크에 있는 목적지를 지정할 수 있다. 



라우팅 : 데이터를 어떤 경로로 보낼지 결정하는 것이다. 라우터라는 장비가 한다. 



네트워크 계층에는 IP 프로토콜이 존재

IP 프로토콜을 사용하여 캡슐화할 때는 데이터에 IP 헤더가 추가된다.

이렇게 만들어진 것을 IP 패킷이라고 한다.



#### Lesson 18 IP 주소의 구조

IP 주소는 ISP에게 받을 수 있다. 



IP version : IPv4 와 IPv6가 존재한다. 현재는 IPv4와 IPv6를 공존해서 사용하고 있다. 

- IPv4 : 32 bit
- IPv6 : 128 bit



IP 주소는 공인 IP 주소와 사설 IP 주소가 있다. 모두 32bit.

- 공인 IP 주소 : 인터넷 서비스 제공자가 제공한다.
- 사설 IP 주소 : 주소의 수가 고갈되어서 나온 개념.

인터넷에 직접 연결되는 컴퓨터나 라우터에는 공인 IP 주소를 할당하고, 회사나 가정의 랜에 있는 컴퓨터는 사설 IP 주소를 할당한다. 예) 공인 IP 주소는 라우터에만 할당하고 랜 안에 있는 컴퓨터에는 사설 IP 주소를 할당하거나 라우터의 DHCP 기능을 사용하여 주소를 자동으로 할당한다. 



- MAC 주소 : 48bit, 16진수로 표시
- IP 주소 : 32bit, 10진수로 표시

8bit = 옥텟



IP 주소는 네트워크 ID와 호스트 ID로 나뉘어져 있다.

- 네트워크 ID : '어떤 네트워크'인지를 나타내고
- 호스트 ID : '해당 네트워크의 어느 컴퓨터'인지를 나타낸다.

이 두가지 정보가 합쳐져서 IP 주소가 된다. 



#### Lesson 19 IP 주소의 클래스 구조

IP 주소 클래스 : 네트워크 ID + 호스트 ID

일반적으로 A, B, C class를 사용한다.

| class 이름 | 내용                                | 네트워크 ID | 호스트 ID | 범위                        |
| ---------- | ----------------------------------- | ----------- | --------- | --------------------------- |
| A class    | 대규모 네트워크 주소                | 8bit        | 24bit     | 1.0.0.0 - 127.255.255.255   |
| B class    | 중형 네트워크 주소                  | 16bit       | 16bit     | 128.0.0.0 - 191.255.255.255 |
| C class    | 소규모 네트워크 주소                | 24bit       | 8bit      | 192.0.0.0 - 223.255.255.255 |
| D class    | 멀티캐스트(multicast) 네트워크 주소 |             |           |                             |
| E class    | 연구 및 특수용도 주소               |             |           |                             |

공인 IP 주소의 범위와 사설 IP 주소의 범위는 따로 있다. 사설 IP 주소는 공인 IP 주소로 사용할 수 없다.

가정 랜에서는 주로 C 클래스의 사설 IP 주소인 192.168.?.?가 사용된다.



IP 주소 확인 방법 : cmd에서 ipconfig

